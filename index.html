<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Chess</title>
  <style>
    :root {
      --bg: #f5f5f5;
      --text: #222;
      --card: #ffffff;
    }
    body.dark {
      --bg: #121212;
      --text: #f5f5f5;
      --card: #1e1e1e;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }
    header {
      text-align: center;
      padding: 1rem;
      font-size: 1.8rem;
      font-weight: bold;
    }
    .mode-toggle {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: var(--card);
      color: var(--text);
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      transition: all 0.3s;
    }
    .buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 1rem;
    }
    button {
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #0078d7;
      color: white;
      font-size: 1rem;
      transition: background 0.3s;
    }
    button:hover { background: #005fa3; }

    .section {
      background: var(--card);
      margin: 1rem auto;
      max-width: 800px;
      padding: 1rem;
      border-radius: 8px;
      display: none;
    }

    select, input {
      padding: 0.4rem;
      margin: 0.3rem;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    .ready {
      background: #28a745;
    }

    .chessboard {
      width: 320px;
      height: 320px;
      margin: 1rem auto;
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      border: 2px solid var(--text);
    }
    .square {
      width: 40px;
      height: 40px;
    }
    .square:nth-child(even) { background: #b58863; }
    .square:nth-child(odd) { background: #f0d9b5; }
  </style>
</head>
<body>
  <header>‚ôüÔ∏è AI CHESS ‚Äì ƒê·∫•u tr√≠ c√πng tr√≠ tu·ªá nh√¢n t·∫°o</header>

  <div class="buttons">
    <button id="pvpBtn">ƒê·∫•u Ng∆∞·ªùi</button>
    <button id="botBtn">ƒê·∫•u Bot</button>
  </div>

  <div id="pvpSection" class="section">
    <h3>Ch·∫ø ƒë·ªô Ng∆∞·ªùi ch∆°i vs Ng∆∞·ªùi ch∆°i</h3>
    <div class="chessboard" id="board"></div>
  </div>

  <div id="botSection" class="section">
    <h3>Ch·∫ø ƒë·ªô AI</h3>
    <button id="humanBot">Ng∆∞·ªùi vs Bot</button>
    <button id="botBot">Bot vs Bot</button>

    <div id="botBotArea" style="margin-top:1rem; display:none;">
      <div>
        <h4>Qu√¢n Tr·∫Øng</h4>
        <select id="whiteAI">
          <option>ChatGPT</option>
          <option>Grok</option>
          <option>Gemini</option>
        </select>
        <input type="text" id="whiteKey" placeholder="API Key..." />
        <button id="whiteReady">S·∫µn s√†ng</button>
      </div>
      <div>
        <h4>Qu√¢n ƒêen</h4>
        <select id="blackAI">
          <option>ChatGPT</option>
          <option>Grok</option>
          <option>Gemini</option>
        </select>
        <input type="text" id="blackKey" placeholder="API Key..." />
        <button id="blackReady">S·∫µn s√†ng</button>
      </div>
    </div>
  </div>

  <button class="mode-toggle" id="toggleTheme">‚òÄÔ∏è</button>

  <script>
    const body = document.body;
    const toggleTheme = document.getElementById('toggleTheme');
    toggleTheme.onclick = () => {
      body.classList.toggle('dark');
      toggleTheme.textContent = body.classList.contains('dark') ? 'üåô' : '‚òÄÔ∏è';
    };

    const pvpBtn = document.getElementById('pvpBtn');
    const botBtn = document.getElementById('botBtn');
    const pvpSection = document.getElementById('pvpSection');
    const botSection = document.getElementById('botSection');
    const botBotBtn = document.getElementById('botBot');
    const botBotArea = document.getElementById('botBotArea');

    pvpBtn.onclick = () => {
      pvpSection.style.display = 'block';
      botSection.style.display = 'none';
    };
    botBtn.onclick = () => {
      botSection.style.display = 'block';
      pvpSection.style.display = 'none';
    };
    botBotBtn.onclick = () => {
      botBotArea.style.display = botBotArea.style.display === 'none' ? 'block' : 'none';
    };

    let whiteReady = false, blackReady = false;
    document.getElementById('whiteReady').onclick = () => {
      whiteReady = !whiteReady;
      document.getElementById('whiteReady').classList.toggle('ready', whiteReady);
      checkStart();
    };
    document.getElementById('blackReady').onclick = () => {
      blackReady = !blackReady;
      document.getElementById('blackReady').classList.toggle('ready', blackReady);
      checkStart();
    };

    function checkStart() {
      if (whiteReady && blackReady) {
        alert('C·∫£ hai AI ƒë√£ s·∫µn s√†ng! B·∫Øt ƒë·∫ßu v√°n c·ªù!');
        console.log("B·∫Øt ƒë·∫ßu AI vs AI...");
      }
    }

    // render b√†n c·ªù ƒë∆°n gi·∫£n
    const board = document.getElementById('board');
    for (let i = 0; i < 64; i++) {
      const sq = document.createElement('div');
      sq.classList.add('square');
      board.appendChild(sq);
    }
  </script>
</body>
</html>
